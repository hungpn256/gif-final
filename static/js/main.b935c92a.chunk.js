(this["webpackJsonpproduct-api"]=this["webpackJsonpproduct-api"]||[]).push([[0],{50:function(t,e,n){},56:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n.n(a),s=n(20),o=n.n(s),i=(n(50),n(4)),u=n(5),l=n(7),d=n(6),h=n(3),j=n(17),b=n(10),p=[{name:"B\u1ed9 s\u01b0u t\u1eadp",to:"/product-collection",exact:!1,className:"",visitable:!0},{name:"\u0110\u0103ng nh\u1eadp",to:"/login",exact:!1,className:"",visitable:!0},{name:"\u0110\u0103ng k\xfd",to:"/register",exact:!1,className:"",visitable:!0},{name:"Log out",to:"/logout",exact:!1,className:"",visitable:!1}],f=function(){localStorage.removeItem("user"),window.location.reload()},m=function(t){var e=t.label,n=t.to,a=t.activeOnlyWhenExact,c=t.className;return"Log out"===e?Object(r.jsx)("button",{type:"button",className:"btn btn-menu",onClick:f,children:"Logout"}):Object(r.jsx)(h.b,{path:n,exact:a,children:function(t){var a=t.match?"active":"";return Object(r.jsx)("li",{children:Object(r.jsx)(j.b,{to:n,className:"".concat(a," ").concat(c),children:e})})}})},O=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).showMenu=function(e){var n=t.props.user;n&&4===e.length&&(e.push({name:n.user.username,to:"/xyz",exact:!0,className:"user",visitable:!0}),e[3].visitable=!0,e[2].visitable=!1,e[1].visitable=!1);var a=e.filter((function(t){return!0===t.visitable}));if(e.length>0)return a.map((function(t,e){return Object(r.jsx)(m,{label:t.name,to:t.to,activeOnlyWhenExact:t.exact,className:t.className},e)}))},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"navbar navbar-default",children:Object(r.jsxs)("div",{className:"menu-nav",children:[Object(r.jsx)(j.b,{className:"navbar-brand ml-20",to:"/",exact:!0,children:"GYPHY"}),Object(r.jsx)("ul",{className:"nav navbar-nav navbar-right",children:this.showMenu(p)})]})})}}]),n}(a.Component),v=Object(b.b)((function(t){return{user:t.user}}),null)(O),x=(n(56),n(40)),g=n.n(x),y=n(41),N=n.n(y),w="LOGIN_SUCCESS",S="LOGIN_FAIL",k="REGISTER_SUCCESS",C="REGISTER_RESET",P="FETCH_FAVORITE_SUCCESS",E="FETCH_FAVORITE_FAIL",L="DELETE_FAVORITE_SUCCESS",R=n(28),T=n.n(R),_="https://mern-app-giphy.herokuapp.com/api";function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return T()({method:e,url:"".concat(_,"/").concat(t),data:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}var F=function(t){return{type:w,payload:t}},U=function(t){return{type:S,payload:t}},D=function(t){return{type:k,payload:t}},A=function(t){return{type:"REGISTER_FAIL",payload:t}},M=function(t){return{type:"PUSH_GIF_ITEM_SUCCESS",payload:t}},G=function(t){return{type:"PUSH_GIF_ITEM_FAIL",payload:t}},q=function(t){return{type:L,payload:t}},B=function(t){return{type:"DELETE_FAVORITE_FAIL",payload:t}},H=function(t){return function(e){return I("users/user","POST",t).then((function(t){e(z(t.data))})).catch((function(t){e(J(!1))}))}},z=function(t){return{type:P,payload:t}},J=function(t){return{type:E,payload:t}},V=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).onPushLikeList=function(e){var n=t.props.user;t.props.onPushLikeList({token:n.token,favorite:e})},t.onDeleteLikeList=function(e){var n=t.props.user;t.props.onDeleteLikeList({token:n.token,favorite:e})},t}return Object(u.a)(n,[{key:"showButton",value:function(t){var e=this;return"add"===this.props.action?Object(r.jsx)("button",{type:"button",className:"btn btn-warning like-button btn-lg",onClick:function(){return e.onPushLikeList(t)},children:Object(r.jsx)(g.a,{fontSize:"large",className:"favoriteIcon",style:{color:"red"}})}):Object(r.jsx)("button",{type:"button",className:"btn btn-warning dislike-button btn-lg",onClick:function(){return e.onDeleteLikeList(t)},children:Object(r.jsx)(N.a,{fontSize:"large"})})}},{key:"render",value:function(){var t=this.props.url;return Object(r.jsx)("article",{className:"product demo col-3 col-s-6  mb-r mb-10",children:Object(r.jsxs)("div",{className:" card text-center card-cascade product-card ",children:[Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("img",{src:t,className:"img-fluid product-img img-thumbnail",alt:"",style:{width:"100%",height:"350px",objectFit:"contain"}})}),Object(r.jsx)("div",{className:"card-footer",children:this.showButton(t)})]})})}}]),n}(a.Component),W=Object(b.b)((function(t){return{user:t.user}}),(function(t,e){return{onPushLikeList:function(e){t(function(t){return function(e){return I("users/user/add","POST",t).then((function(t){e(M(t.data))})).catch((function(t){e(G(!1))}))}}(e))},onDeleteLikeList:function(e){t(function(t){return function(e){return I("users/user/delete","POST",t).then((function(t){e(q(t.data))})).catch((function(t){e(B(!1))}))}}(e))}}}))(V),X=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).showProduct=function(t){var e=null,n=a.props.action;return t.length>0&&(e=t.map((function(t,e){return Object(r.jsx)(W,{url:t.images.downsized_medium.url,index:e,action:n},e)}))),e},a.state={products:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;0===this.state.products.length&&T()({method:"GET",url:"".concat("https://api.giphy.com/v1/gifs/trending","?api_key=").concat("fdxNwRXCQWmDlHZaAYpNamm6Ll6pZNnz","&&limit=300"),data:null}).catch((function(t){console.log(t)})).then((function(e){t.setState({products:e.data.data})}))}},{key:"render",value:function(){var t=this.state.products;return this.showProduct(t)}}]),n}(a.Component),Y=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.user,n=t.fetchOnFavoriteProducts;null!==e&&!1!==e&&n({token:e.token})}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"home-page",children:[Object(r.jsx)("h1",{children:"Trang ch\u1ee7 "}),Object(r.jsx)(X,{action:"add"})]})}}]),n}(a.Component),Z=Object(b.b)((function(t){return{user:t.user}}),(function(t,e){return{fetchOnFavoriteProducts:function(e){t(H(e))}}}))(Y),K=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"alert alert-warning",children:[Object(r.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-hidden":"true",children:"\xd7"}),Object(r.jsx)("strong",{children:"Kh\xf4ng t\xecm th\u1ea5y trang"})]})})}}]),n}(a.Component),Q=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).showProductFavorite=function(t){return t&&t.length>0?t.map((function(t,e){return Object(r.jsx)(W,{url:t,action:"sub"},e)})):Object(r.jsx)("h2",{children:"B\u1ed9 s\u01b0u t\u1eadp tr\u1ed1ng"})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.user,n=t.fetchOnFavoriteProducts;e&&n({token:e.token})}},{key:"render",value:function(){var t=this.props,e=t.user,n=t.favorite;return e?Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"B\u1ed9 S\u01b0u T\u1eadp"}),this.showProductFavorite(n.favorites)]}):Object(r.jsx)(h.a,{to:"/login"})}}]),n}(a.Component),$=Object(b.b)((function(t){return{user:t.user,favorite:t.favorite}}),(function(t,e){return{fetchOnFavoriteProducts:function(e){t(H(e))}}}))(Q),tt=n(22),et=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).onChange=function(t){var e=t.target,n=e.name,a="checkbox"===e.type?e.checked:e.value;r.setState(Object(tt.a)({},n,a))},r.onSave=function(t){t.preventDefault();var e=r.state,n=e.txtUserName,a=e.txtPassword;r.props.onRequest({username:n,password:a})},r.state={id:"",txtUserName:"",txtPassword:"",loginStatus:"",prompt:!0},r}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.txtUserName,n=t.txtPassword,a=this.props.user;if(null!==a&&a.isAuthenticated)return Object(r.jsx)(h.a,{to:"/"});var c=document.getElementsByClassName("login-status")[0];return c&&(c.style.display=!1===a?"block":"none"),Object(r.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(r.jsxs)("form",{onSubmit:this.onSave,children:[Object(r.jsx)("legend",{children:"Login"}),Object(r.jsx)("label",{className:"login-status",children:"Login false, please try again"}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"UserName:"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"userName",placeholder:"UserName",name:"txtUserName",value:e,onChange:this.onChange,required:!0})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Password:"}),Object(r.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",name:"txtPassword",value:n,onChange:this.onChange,required:!0})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0110\u0103ng nh\u1eadp"})]})})}}]),n}(a.Component),nt=Object(b.b)((function(t){return{user:t.user}}),(function(t,e){return{onRequest:function(e){t(function(t){return function(e){return I("users/login","POST",t).then((function(t){localStorage.setItem("user",JSON.stringify(t.data)),e(F(t.data))})).catch((function(t){e(U(!1))}))}}(e))}}}))(et),rt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).onChange=function(t){var e=t.target,n=e.name,a="checkbox"===e.type?e.checked:e.value;r.setState(Object(tt.a)({},n,a))},r.onSave=function(t){t.preventDefault();var e=r.state,n=e.txtUserName,a=e.txtPassword;a===e.txtRePassword&&r.props.onRegisterRequest({username:n,password:a})},r.state={id:"",txtUserName:"",txtPassword:"",txtRePassword:""},r}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.txtUserName,n=t.txtPassword,a=t.txtRePassword;return this.props.userRegister?(this.props.onRegisterReset(!1),Object(r.jsx)(h.a,{to:"login"})):Object(r.jsx)("div",{className:"col-xs-6 col-sm-6 col-md-6 col-lg-6",children:Object(r.jsxs)("form",{onSubmit:this.onSave,children:[Object(r.jsx)("legend",{children:"\u0110\u0103ng k\xfd"}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"UserName"}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"name-register",placeholder:"UserName",name:"txtUserName",value:e,onChange:this.onChange,required:!0})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Password:"}),Object(r.jsx)("input",{type:"password",className:"form-control",id:"password-register",placeholder:"Password",name:"txtPassword",value:n,onChange:this.onChange,required:!0})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Re-Password:"}),Object(r.jsx)("input",{type:"password",className:"form-control",id:"re-password-register",placeholder:"Re-Password",name:"txtRePassword",value:a,onChange:this.onChange,required:!0})]}),Object(r.jsx)("div",{className:"form-group"}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0110\u0103ng k\xfd"})]})})}}]),n}(a.Component),at=Object(b.b)((function(t){return{userRegister:t.register}}),(function(t,e){return{onRegisterRequest:function(e){t(function(t){return function(e){return I("users/register","POST",t).then((function(t){e(D(t.data))})).catch((function(t){e(A(!1))}))}}(e))},onRegisterReset:function(e){t(function(t){return{type:C,payload:t}}(e))}}}))(rt),ct=[{path:"/",exact:!0,main:function(){return Object(r.jsx)(Z,{})}},{path:"/product-collection",exact:!1,main:function(){return Object(r.jsx)($,{})}},{path:"/login",exact:!1,main:function(){return Object(r.jsx)(nt,{})}},{path:"/register",exact:!1,main:function(){return Object(r.jsx)(at,{})}},{path:"",exact:!1,main:function(){return Object(r.jsx)(K,{})}}],st=n(42),ot=n.n(st),it=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(t=e.call.apply(e,[this].concat(c))).showContentMenus=function(t){var e=null;return t.length>0&&(e=t.map((function(t,e){return Object(r.jsx)(h.b,{path:t.path,exact:t.exact,component:t.main},e)}))),Object(r.jsx)(h.d,{children:e})},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(j.a,{children:[Object(r.jsx)(v,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(ot.a,{minDeviceWidth:900,device:{deviceWidth:1600},children:this.showContentMenus(ct)})})]})}}]),n}(a.Component),ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))},lt=n(18),dt=JSON.parse(localStorage.getItem("user")),ht=dt||null,jt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:case S:return t=e.payload;default:return t}},bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:case C:return t=e.payload;default:return t}},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case P:return t=e.payload;case L:return t=e.payload,console.log(t),t;case E:return t=[];default:return t}},ft=Object(lt.c)({user:jt,register:bt,favorite:pt}),mt=n(43),Ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||lt.d,vt=Object(lt.e)(ft,Ot(Object(lt.a)(mt.a)));o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(b.a,{store:vt,children:Object(r.jsx)(it,{})})}),document.getElementById("root")),ut()}},[[76,1,2]]]);
//# sourceMappingURL=main.b935c92a.chunk.js.map